{"name": "flask", "status": "broken", "statusDetails": {"message": "NameError: name 'mail_pass' is not defined", "trace": "self = <class 'scripts.test_case.Test_case'>\n\n    def teardown_class(self):\n        \"\"\"  执行alllure命令 \"\"\"\n    \n        AllureHandler().execute_command()\n        # 发邮件\n>       EmailHandler().send_email()\n\nscripts/test_case.py:41: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <uti.EmailHandler.EmailHandler object at 0x10dbd9dd0>\n\n    def send_email(self):\n        \"\"\" 发送邮件 \"\"\"\n    \n        # 第三方 SMTP 服务\n        mail_host = \"smtp.qq.com\"  # 设置服务器\n        mail_user = \"1641839697@qq.com\"  # 用户名\n        # mail_pass = \"ygarpyvxlllgcbcc\"  # 口令\n    \n        # 设置收件人和发件人\n        sender = '1641839697@qq.com'\n        receivers = ['sonic64@qq.com', ]  # 接收邮件，可设置为你的QQ邮箱或者其他邮箱\n    \n        # 创建一个带附件的实例对象\n        message = MIMEMultipart()\n    \n        # 邮件主题、收件人、发件人\n        subject = '请查阅--测试报告'  # 邮件主题\n        message['Subject'] = Header(subject, 'utf-8')\n        message['From'] = Header(\"{}\".format(sender), 'utf-8')  # 发件人\n        message['To'] = Header(\"{}\".format(';'.join(receivers)), 'utf-8')  # 收件人\n    \n        # 邮件正文内容 html 形式邮件\n        send_content = self.read_report()  # 获取测试报告\n        html = MIMEText(_text=send_content, _subtype='html', _charset='utf-8')  # 第一个参数为邮件内容\n    \n        # 构造附件\n        att = MIMEText(_text=send_content, _subtype='base64', _charset='utf-8')\n        att[\"Content-Type\"] = 'application/octet-stream'\n        file_name = 'report.html'\n        att[\"Content-Disposition\"] = 'attachment; filename=\"{}\"'.format(file_name)  # # filename 为邮件附件中显示什么名字\n        message.attach(html)\n        message.attach(att)\n    \n        try:\n            smtp_obj = smtplib.SMTP()\n            smtp_obj.connect(mail_host, 25)  # 25 为 SMTP 端口号\n>           smtp_obj.login(mail_user, mail_pass)\nE           NameError: name 'mail_pass' is not defined\n\nuti/EmailHandler.py:59: NameError"}, "description": "<font color=\"red\">请求URL：</font>https://cnodejs.org/api/v1/user/alsotang<br /><font color=\"red\">期望值：</font>asc-0005", "attachments": [{"name": "log", "source": "fc6e82fb-3d32-4879-bf66-4c824e6e4c32-attachment.txt", "type": "text/plain"}], "parameters": [{"name": "case", "value": "{'case_id': 'asc-0005', 'case_module': 'flask', 'case_url': 'https://cnodejs.org/api/v1/user/alsotang', 'isRun': 'RUN', 'case_method': 'get', 'case_params': '', 'case_expect': '{\"success\":true}', 'case_result_code': '', 'case_result_message': ''}"}], "start": 1586843440917, "stop": 1586843442520, "uuid": "c24c4b16-71e4-44ca-af3b-68e04127cbaf", "historyId": "8969fb93535c3ccbd57d0d36069d62f2", "testCaseId": "ea02412fdf50230ea9175db2c24ad2e1", "fullName": "scripts.test_case.Test_case#test_case", "labels": [{"name": "feature", "value": "flask"}, {"name": "story", "value": "get"}, {"name": "parentSuite", "value": "scripts"}, {"name": "suite", "value": "test_case"}, {"name": "subSuite", "value": "Test_case"}, {"name": "host", "value": "localhost"}, {"name": "thread", "value": "79790-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "scripts.test_case"}]}